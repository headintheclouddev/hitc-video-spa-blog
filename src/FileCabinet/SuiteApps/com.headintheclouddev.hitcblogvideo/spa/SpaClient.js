define(["exports","@uif-js/core/jsx-runtime","@uif-js/component","@uif-js/core","N"],(function(e,r,o,t,n){"use strict";const s=t.ContextType.new("theme-context");function i(e){const{secondaryColor:o}=t.useContext(s);return r.jsxs("div",{children:[r.jsx("h3",{style:{color:o},children:e.title}),r.jsx("div",{children:e.content}),r.jsx("br",{}),r.jsxs("i",{children:["Written by ",r.jsx("b",{children:e.author})]})]})}function l(){const e=[],o=[];for(const n of e)o.push(r.jsxs(t.VDom.Fragment,{children:[r.jsx(i,{...n}),r.jsx("hr",{})]}));return r.jsx("div",{children:o})}function c(e){return r.jsxs("span",{onClick:e.onClick,style:{cursor:"pointer",paddingLeft:"8px",fontWeight:e.active?"bold":"normal"},children:[r.jsx("span",{style:{color:e.theme.primaryColor},children:"Primary"})," / ",r.jsx("span",{style:{color:e.theme.secondaryColor},children:"Secondary"})]})}function a(e){const[o,s]=t.useState([]);function i(r){return r.primaryColor==e.theme.primaryColor&&r.secondaryColor==e.theme.secondaryColor}return t.useEffect((()=>{n.query.runSuiteQL.promise({query:"SELECT name, id, custrecord_blog_theme_secondary_color FROM customrecord_blog_theme"}).then((e=>{const r=e.asMappedResults(),o=[];for(const e of r)o.push({id:e.id,primaryColor:e.name,secondaryColor:e.custrecord_blog_theme_secondary_color});s(o),console.log("ChangedTheme found",r.length,"themes")}))}),[]),r.jsxs("div",{children:["Change Theme:",o.map((o=>r.jsx(c,{theme:o,active:i(o),onClick:()=>e.setTheme(o)})))]})}function u(){return r.jsxs("div",{children:[r.jsx("label",{htmlFor:"login-username",children:"Username:"}),r.jsx(o.TextBox,{type:o.TextBox.Type.TEXT,name:"login-username"}),r.jsx("label",{htmlFor:"login-password",children:"Password:"}),r.jsx(o.TextBox,{type:o.TextBox.Type.PASSWORD,name:"login-password"}),r.jsx("input",{type:"button",value:"Login",onClick:function(){console.log("handleLogin running")}})]})}function d(){return r.jsxs("div",{children:[r.jsx("label",{htmlFor:"register-username",children:"Username:"}),r.jsx(o.TextBox,{type:o.TextBox.Type.TEXT,name:"register-username"}),r.jsx("label",{htmlFor:"register-password",children:"Password:"}),r.jsx(o.TextBox,{type:o.TextBox.Type.PASSWORD,name:"register-password"}),r.jsx("label",{htmlFor:"register-repeat-password",children:"Repeat Password:"}),r.jsx(o.TextBox,{type:o.TextBox.Type.PASSWORD,name:"register-reeat-password"}),r.jsx("input",{type:"button",value:"Register",onClick:function(){console.log("handleRegister running")}})]})}function x(){return r.jsxs(t.VDom.Fragment,{children:[r.jsx(u,{}),r.jsx(d,{})]})}const h={USER_REGISTER:Symbol("userRegister"),USER_LOGIN:Symbol("userLogin"),USER_LOGOUT:Symbol("userLogout")};function m(e,r){return{user:p(e.user,r),posts:y(e.posts),error:""}}function p(e,r){if(r.type==h.USER_LOGIN);else if(r.type==h.USER_REGISTER);else if(r.type!=h.USER_LOGOUT)return e}function y(e,r){return e}function j(){const[e,n]=t.useState({user:"",posts:[],error:""}),i=t.useMemo((()=>t.Store.create({reducer:m,state:e,onStateChanged:({currentState:e})=>n(e)})));t.useEffect((()=>i.subscribe((()=>n(i.getState())))),[]);const[c,u]=t.useState({primaryColor:"deepskyblue",secondaryColor:"coral"}),d={[s]:c};return r.jsx(t.VDom.Context,{value:d,children:r.jsxs("div",{children:[r.jsx("h1",{style:{color:c.primaryColor},children:"NetSuite Blog"}),r.jsx(a,{theme:c,setTheme:u}),r.jsx(x,{}),r.jsx(o.Heading,{children:"(When logged in) Create New Post"}),r.jsx(l,{})]})})}e.run=function(e){console.log("SpaClient - run context",e),e.setLayout("application"),e.setContent(r.jsx(j,{}))}}));
